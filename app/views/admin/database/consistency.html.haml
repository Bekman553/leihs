- content_for :title, _("Database consistency")

.wrapper.margin-top-m

  .row
    %nav
      %ul
        %li
          %a.navigation-tab-item.margin-right-xxs.padding-horizontal-m.float-left{:href => "/admin/database_indexes"}
            = _("Indexes")
        %li
          %a.navigation-tab-item.margin-right-xxs.padding-horizontal-m.float-left{:href => "/admin/database_consistency", :class => "active"}
            = _("Consistency")


  .row.content-wrapper.min-height-xl.min-width-full.straight-top
    - @missing_references.each_pair do |key, v|
      - values = v.to_a # NOTE it performs the executions. so that the next size check doesn't execute an additional mysql count(*)
      .row.margin-top-l.padding-horizontal-m
        .row
          .headline-l.float-left
            = "%d %s" % [values.size, key]
        .row.emboss.margin-vertical-s
          - values.each do |value|
            .row.line
              .line-info.red
              .col1of1.line-col
                = value.inspect
